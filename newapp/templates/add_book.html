{% extends 'layout2.html' %}
{% load static %}

{% block title %}
{% if not book_ins %}
Add Book
{% else %}
Update Book
{% endif %}
{% endblock %}

{% block navbar %}
{% endblock %}

{% block contant %}
<div class="parent2">
    <div class="form text-center">
        {% if not book_ins %}
        <h1 class="mb-5">Add Book</h1>
        {% else %}
        <h1 class="mb-5">Update Book</h1>
        {% endif %}
        <form method="post">
            {% csrf_token %}
            {% if not book_ins %}
            <label class="lab mx-2">Title</label>
            <input type="text" class="in mb-3" name="title" placeholder="Title" required>

            <label class="lab mx-2">Author</label>
            <input type="text " class="in mb-3" name="author" placeholder="Author" required>

            <label class="lab mx-2">Price</label>
            <input type="number" class="in mb-3" step="0.01" name="price" placeholder="Price" required>

            <label class="lab mx-2">Copies</label>
            <input type="number" class="in mb-3" name="copies" value="1" placeholder="Number of Copies" required>

            <a href="{% url 'open' lib_id %}" class="btn btn-outline-danger mt-4 mx-2">Cancel</a>
            <button class="btn btn-outline-primary mt-4 mx-2" type="submit">Add Book</button>

            {% else %}

            <label class="lab mx-2">New Title</label>
            <input type="text" class="in mb-4" name="title" value="{{ book_ins.title }}" placeholder="New Title"
                required>

            <label class="lab mx-2">New Author</label>
            <input type="text" class="in mb-4" name="author" value="{{ book_ins.author }}" placeholder="New Author"
                required>

            <label class="lab mx-2">New Price</label>
            <input type="number" class="in mb-4" step="0.01" value="{{ book_ins.price }}" name="price"
                placeholder="New Price" required>

            <label class="lab mx-2">Copies</label>
            <input type="number" class="in mb-4" name="copies" value="{{ book_ins.copies }}" placeholder="Copies"
                required>

            <a href="{% url 'open' lib_id %}" class="btn btn-outline-danger mt-4 mx-2">Cancel</a>
            <button class="btn btn-outline-success mt-4 mx-2" type="submit">Update</button>
            
            {% endif %}

            {% if error %}
            <p style="color:red">{{error}}</p>
            {% endif %}

        </form>

    </div>
</div>
{% endblock %}

{% block footer %}{% endblock %}